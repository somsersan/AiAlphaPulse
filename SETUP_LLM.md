# ü§ñ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ LLM –∞–Ω–∞–ª–∏–∑–∞ –Ω–æ–≤–æ—Å—Ç–µ–π

## –®–∞–≥ 1: –ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á OpenRouter

1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ https://openrouter.ai/
2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –∏–ª–∏ –≤–æ–π–¥–∏—Ç–µ
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://openrouter.ai/keys
4. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π API –∫–ª—é—á
5. **–í–∞–∂–Ω–æ**: –ü–æ–ø–æ–ª–Ω–∏—Ç–µ –±–∞–ª–∞–Ω—Å –Ω–∞ https://openrouter.ai/credits (–º–∏–Ω–∏–º—É–º $1)

## –®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ API –∫–ª—é—á

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
./setup_env.sh
```

–°–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞—Å—Ç `.env` —Ñ–∞–π–ª –∏ –ø–æ–ø—Ä–æ—Å–∏—Ç –≤–≤–µ—Å—Ç–∏ API –∫–ª—é—á.

### –í–∞—Ä–∏–∞–Ω—Ç 2: –†—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

```bash
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä
cp .env.example .env

# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª
nano .env

# –í—Å—Ç–∞–≤—å—Ç–µ –≤–∞—à –∫–ª—é—á:
OPENROUTER_API_KEY=sk-or-v1-–≤–∞—à-–∫–ª—é—á-–∑–¥–µ—Å—å
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ß–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–≤—Ä–µ–º–µ–Ω–Ω–æ)

```bash
export OPENROUTER_API_KEY='sk-or-v1-–≤–∞—à-–∫–ª—é—á-–∑–¥–µ—Å—å'
```

## –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

```bash
cd /Users/semenisaev/AiAlphaPulse
python3 test_openrouter.py
```

–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
```
‚úÖ API –∫–ª—é—á –Ω–∞–π–¥–µ–Ω: sk-or-v1-...
‚úÖ API —Ä–∞–±–æ—Ç–∞–µ—Ç!
```

## –®–∞–≥ 4: –ó–∞–ø—É—Å—Ç–∏—Ç–µ –æ–±—Ä–∞–±–æ—Ç–∫—É

```bash
# –¢–µ—Å—Ç –Ω–∞ 2 –∫–ª–∞—Å—Ç–µ—Ä–∞—Ö
python3 -m src.llm.runner --limit 2 --delay 2

# –û–±—Ä–∞–±–æ—Ç–∞—Ç—å 10 –∫–ª–∞—Å—Ç–µ—Ä–æ–≤
python3 -m src.llm.runner --limit 10

# –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –≤—Å–µ
python3 -m src.llm.runner --limit 115
```

## –®–∞–≥ 5: –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

```bash
# –¢–æ–ø-10 —Å–∞–º—ã—Ö –≥–æ—Ä—è—á–∏—Ö –Ω–æ–≤–æ—Å—Ç–µ–π
python3 -m src.llm.runner --show-top 10

# –ò–ª–∏ —á–µ—Ä–µ–∑ SQL
python3 << 'EOF'
from src.database import get_db_cursor

with get_db_cursor() as cursor:
    cursor.execute("""
        SELECT headline, ai_hotness, tickers_json 
        FROM llm_analyzed_news 
        ORDER BY ai_hotness DESC 
        LIMIT 10
    """)
    
    for i, row in enumerate(cursor.fetchall(), 1):
        print(f"{i}. {row['headline'][:70]}...")
        print(f"   üî• {row['ai_hotness']:.3f} | üìä {row['tickers_json']}\n")
EOF
```

## –°—Ç–æ–∏–º–æ—Å—Ç—å

**GPT-3.5-turbo** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è —Ç–µ—Å—Ç–∞):
- ~$0.0005 –∑–∞ –Ω–æ–≤–æ—Å—Ç—å
- 115 –∫–ª–∞—Å—Ç–µ—Ä–æ–≤ = ~$0.06

**GPT-4** (–ª—É—á—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ):
- ~$0.015 –∑–∞ –Ω–æ–≤–æ—Å—Ç—å  
- 115 –∫–ª–∞—Å—Ç–µ—Ä–æ–≤ = ~$1.70

## –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞ 403 Forbidden
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API –∫–ª—é—á –Ω–∞ https://openrouter.ai/keys
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–ª–∞–Ω—Å –Ω–∞ https://openrouter.ai/credits
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–ª—é—á –∞–∫—Ç–∏–≤–µ–Ω

### –û—à–∏–±–∫–∞ 429 Rate Limit
- –£–≤–µ–ª–∏—á—å—Ç–µ `--delay` (–Ω–∞–ø—Ä–∏–º–µ—Ä `--delay 5`)
- –ü–æ–¥–æ–∂–¥–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç

### –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å OpenRouter: https://openrouter.ai/

